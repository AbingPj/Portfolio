<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Calculator - BankTruth Test</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-gray-100 p-6">
    <div class="max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-md">
        <h1 class="text-2xl font-bold mb-4 text-center">BankTruth Savings Calculator</h1>

        <!-- Inputs -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div>
                <label class="block mb-1 font-semibold">Initial Balance ($)</label>
                <input type="number" id="balance" value="10000" class="w-full p-2 border rounded" />
            </div>
            <div>
                <label class="block mb-1 font-semibold">Monthly Contribution ($)</label>
                <input type="number" id="monthly" value="500" class="w-full p-2 border rounded" />
            </div>
            <div>
                <label class="block mb-1 font-semibold">Time Period (months)</label>
                <input type="number" id="months" value="12" class="w-full p-2 border rounded" />
            </div>
            <div>
                <label class="block mb-1 font-semibold">APY (%) - BankTruth</label>
                <input type="number" id="apy1" value="3.5" step="0.1" class="w-full p-2 border rounded" />
            </div>
            <div>
                <label class="block mb-1 font-semibold">APY (%) - Big Bank</label>
                <input type="number" id="apy2" value="1.5" step="0.1" class="w-full p-2 border rounded" />
            </div>
        </div>

        <!-- Chart -->
        <canvas id="chart" class="mb-6"></canvas>

        <!-- Total Earnings -->
        <div class="text-center font-semibold text-lg">
            <p>Total Earnings:</p>
            <p>BankTruth: $<span id="total1">0</span></p>
            <p>Big Bank: $<span id="total2">0</span></p>
        </div>
    </div>

    <script>
        // Initial dummy data
        const ctx = document.getElementById('chart').getContext('2d');
        const data = {
            labels: ['BankTruth', 'Big Bank'],
            datasets: [{
                label: 'Total Savings',
                data: [0, 0],
                backgroundColor: ['#3B82F6', '#F97316']
            }]
        };

        const config = {
            type: 'bar',
            data: data,
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                },
                scales: {
                    y: { beginAtZero: true }
                }
            }
        };

        const myChart = new Chart(ctx, config);

        // Calculation function
        function calculate() {
            const balance = parseFloat(document.getElementById('balance').value) || 0;
            const monthly = parseFloat(document.getElementById('monthly').value) || 0;
            const months = parseInt(document.getElementById('months').value) || 0;
            const apy1 = parseFloat(document.getElementById('apy1').value) / 100 || 0;
            const apy2 = parseFloat(document.getElementById('apy2').value) / 100 || 0;

            function totalSavings(initial, monthly, months, rate) {
                let total = initial;
                for (let i = 0; i < months; i++) {
                    total += monthly;
                    total *= (1 + rate / 12);
                }
                return total.toFixed(2);
            }

            const total1 = totalSavings(balance, monthly, months, apy1);
            const total2 = totalSavings(balance, monthly, months, apy2);

            document.getElementById('total1').innerText = total1;
            document.getElementById('total2').innerText = total2;

            myChart.data.datasets[0].data = [total1, total2];
            myChart.update();
        }

        // Event listeners
        document.querySelectorAll('#balance, #monthly, #months, #apy1, #apy2').forEach(input => {
            input.addEventListener('input', calculate);
        });

        // Initial calculation
        calculate();
    </script>
</body>

</html>